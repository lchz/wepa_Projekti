<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Search</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        
        <form th:action="@{/{userId}/search(userId=${user.id})}" method="POST">
            <fieldset>
                <legend>Search users:</legend>
                First name: <input type="text" name="firstname" /><br><br>
                Family name: <input type="text" name="familyname" /><br><br>
                <input type="submit" value="Search!"/>
            </fieldset>
        </form>

        <div th:if="${findings == null}">
            <p>Please insert a name.</p>
        </div>
        
        <div th:unless="${findings == null}">
            <div th:if="${findings.empty}">
                <p>No match. Please check the name.</p>
            </div>
        </div>

        <ul>
            <li th:each="person:${findings}">
                <span th:text="${person.firstname}">etunimi</span>
                <span th:text="${person.familyname}">sukunimi</span>
                <div th:if="${person.id != user.id}">
                    <form th:action="@{/{userId}/follow/{personId}(userId=${user.id},personId=${person.id})}" method="POST">
                        <input type="submit" value="Follow" />
                    </form>
                </div>
            </li>
            
            <li th:each="person:${followed}">
                <span th:text="${person.firstname}">etunimi</span>
                <span th:text="${person.familyname}">sukunimi</span>
                <!--<span th:text="${person.username}">tunnus</span>-->
                <!--<div th:if="${person.id != user.id}">-->
                <!--<form th:action="" method="POST">-->
                <button type="button" disabled>Following</button>
                <!--</form>-->
                <!--</div>-->
            </li>
        </ul>
        
    </body>
</html>
